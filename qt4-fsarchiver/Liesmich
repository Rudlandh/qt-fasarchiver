=======================================================================================================================
qt4-fsarchiver: Sichern und Wiederherstellen von Partitionen für (K)Ubuntu. [http://wiki.ubuntuusers.de/qt4-fsarchiver]
=======================================================================================================================

Copyright (C) 2008-2011 Francois Dupoux, Hihin Ruslan und Dieter Baum.  All rights reserved.
Kopieren der Dateien, mit und ohne Änderung ist erlaubt. Der Code ist ohne jegliche Garantie- Die Benutzung erfolgt auf eigene Gefahr.
Francois Dupoux entwickelte das Basisprogramm fsarchiver, Hihin Ruslan hat das Programm internationalisiert, Dieter Baum erstellte die GUI.

qt4-fsarchiver ist ein Programm mit einer grafischen Oberfläche zur einfachen Bedienung des Archivierungsprogramms fsarchiver.

Der Quellcode kann auf allen auf Debian bsasierenden System installiert werden.
Für Ubuntu und Linux-Mint sind deb-Pakete vorhanden.

Installation des Programms:
Für die Installation von qt4-fsarchiver müssen die für fsarchiver notwendigen Abhängigkeiten und die qt4-Entwicklungsumgebung installiert werden.
Dies erreichen Sie mit folgendem Befehl:
sudo apt-get install libzip-dev libbz2-dev liblzma-dev liblzo2-2 liblzo2-dev libgcrypt11-dev e2fslibs-dev libblkid-dev libattr1-dev build-essential libqt4-core libqt4-dev. 
In dem Terminal wechseln Sie an den Ort, in dem sich das von sourceforge.net entpackte Archiv befindet.
Mit der Eingabe von dem Befehl qmake && make && sudo make install wird das Programm installiert.
Für die Verwendung der Sprachdateien müssen die Dateien *.qm in translation nach /usr/share/qt4/translation kopiert werden.
Die deb-Pakete erledigen dies automatisch.

Programmaufruf:
Ubuntu: Unter "Anwendungen > Zubehör" wurde ein Starter für qt4-fsarchiver installiert. Mit Doppelklick wird das Programm mit Root-Rechten gestartet. Bei der Oberfläche Unity muss die Übernahme in das Startmenü selbst vorgenommen werden.
LinuxMint: Unter "Menü > Anwendungen > Zubehör" wurde ein Starter für qt4-fsarchiver installiert. Mit Doppelklick wird das Programm mit Root-Rechten gestartet.

Hinweis für Ubuntu: Die Oberfläche ist seit Ubuntu 10.10 nicht mehr Gnome angepasst. 
Anpassungsmöglichkeit: Sie starten mit sudo qtconfig (aus dem Paket qt4-qtconig) die Qt Configuration. Unter Appearance > GUI Style wählen Sie GTK+ aus. Speichern Sie die Änderung und schließen Sie Qt Configuration.
Danach starten Sie die Qt Configuration mit gksudo qtconfig erneut und ändern ebenfalls den GUI Style.

Die Handhabung von qt4-fsarchiver ist einfach:

Über den Menüpunkt "Aktionen" oder über die Werkzeugleiste können folgende Aktionen ausgewählt werden: "Partitionen sichern/zurückschreiben", "Partitionen sichern/zurückschreiben über ein Netzwerk", "MBR sichern/zurückschreiben" und "Verzeichnisse sichern/zurückschreiben". Zusätzlich kann über den Menüpunkt "Einstellungen" Basiseinstellungen wie Anzahl der Prozessorkerne oder Kompressionsstärke und Weiteres eingestellt werden.

Die Sicherung läuft immer nach dem selben Schema ab: Man wählt den Namen für die Sicherung, das Programm ergänzt den Namen automatisch mit einem Datumstempel, dann werden die zu sichernde Partition oder das zu sichernde Verzeichnis und das Verzeichnis ausgewählt, in dem die Sicherung gespeichert werden soll. Dann den Button "Partition sichern" betätigen und die Sicherung beginnt.

Das Wiederherstellen ist ähnlich. In dem Sicherungsverzeichnis wird der Name der Datei ausgewählt, die wiederhergestellt werden soll. Beim Wiederherstellen einer Partition wird die wiederherzustellende Partition ausgewählt. Dabei wird überprüft, ob die Bezeichnung der wiederherzustellende Partition (zum Beispiel /dev/sda5), mit der Bezeichnung der gesicherte Partition übereinstimmt. Nach entsprechendem Warnhinweis kann die Partition an eine beliebige Stelle zurück geschrieben werden. Beim Wiederherstellen von Verzeichnissen wird ausgewählt, ob das Verzeichnis an den Ursprungsort oder an einen anderen Ort zurückgeschrieben werden soll. Den Button "Partition wiederherstellen" betätigen und die Partition oder das Verzeichnis wird zurückgeschrieben.

Bei der Sicherung über ein Netzwerk wird eine zusätzliche Maske geöffnet, in dem der Benutzername und das Kennwort für das Netzwerk eingegeben werden muss. Von der Speicherung des Kennworts ist außerhalb des privaten Bereiches abzuraten, da die Verschlüsselung des Kennwortes auf einfache Art durchgeführt wird.
Vorausetzungen für die Arbeit mit dem Netzwerk: 
Im Linux-Bereich müssen auf dem Rechner, der die Sicherung durchführt/wiederherstellt(Client) und auf dem Rechner, auf dem die Daten abgelegt werden (Server), Samba installiert sein. Auf dem Server muss zusätzlich ein freigegebenes Verzeichnis "/mnt/qt4-fs" vorhanden sein.
Beim Datentausch mit Windows muss auf dem Window_Rechner ein freigegebenes Verzeichnis "qt4-fs" existieren. Das Einbinden des virtuellen Dateisystem "cifs-vfs" auf dem Linux-Rechner muss möglich sein. Sie hierzu den Ubuntu-Wiki Artikel "http://wiki.ubuntuusers.de/Samba_Client_cifs".
Nach dem Start der Live-CD oder des Computers kann es eine Weile dauern, bis andere Rechner im Netzwerk angezeigt werden. Zum Prüfen kann man im Terminal den Befehl "smbtree -N" eingeben. Erst nach der Anzeige von vorhandenen Netzwerkrechnern im Terminal, funktioniert auch die Anzeige in qt4-fsarchiver.

Die Sicherungen können auch verschlüsselt vorgenommen werde. Dabei muss die Schlüssellänge zwischen 6 und 64 Zeichen sein. Die Archivaufteilung auf DVD-Größe ist möglich.

Die Sicherung von eingehängten Partitionen ist, nach einer Abfrage ob dies gewünscht wird, möglich. Das Wiederherstellen von Partitionen kann nur dann vorgenommen werden, wenn die Partition ausgehängt ist. Die Wiederherstellung einer Root- oder Homepartition ist mit der Live-CD qt4-fsarchiver (http://sourceforge.net/projects/qt4-fsarchiver/files/Live-CD/") möglich. Auf der bekannten SystemRescueCD ist das Programm fsarchiver ebenfalls vorhanden, so dass diese Live-CDs auch zum Zurückschreiben von mit qt4-fsarchiver erstellten Archiven geeignet ist. 

Bei der Sicherung des MBR muss lediglich (bei mehreren Festplatten) die Festplatte und das Sicherungsverzeichnis ausgewählt werden. Der verborgene Bereich der Festplatte zwischen dem Ende des MBR und Beginn der ersten Partition wird mitgesichert. Beim Zurückschreiben des MBR kann bei mehreren Festplatten die Festplatte ausgewählt werden, deren MBR zurück geschrieben werden soll. Zusätzlich hat man die Wahl, ob der Bootloaderbereich, die Partitionstabelle oder der verborgene Bereich der Festplatte wiederhergestellt werden soll. Die letzte Option ist dann von Bedeutung, wenn beispielsweise auf dem Rechner Ubuntu Maverick installiert ist und eine Lucid Version zurück gesichert wird. In solch einem Fall wird Grub zerstört und der Rechner ist nicht mehr bootbar. Die Wiederherstellung des verborgenen Bereiches einer Lucid-Installation verhindert dies.

qt4-fsarchiver kann ecryptfs verschlüsselte Home-Verzeichnisse sichern und wiederherstellen. Das ist unabhängig davon, ob das Home-Verzeichnis in einer eigenen Partition oder innerhalb des Wurzelverzeichnisses gespeichert ist.

Mit TrueCrypt verschlüsselte Partitionen können nicht gesichert werden.

Die Windows Fat-Partitionen werden nicht unterstützt.

Beim Starten von qt4-fsarchiver werden alle nicht eingebundenen Partionen unter /media/sda..., /media/sdb... eingebunden und sind somit leicht auf der Oberfläche erreichbar. Das Verzeichnis, in dem die Sicherung gespeichert werden soll beziehungsweise das Verzeichnis, in dem die gesicherte Partition abgelegt ist, ist somit in qt4-fsarchiver unter /media/sd.... ansprechbar. Die zu sichernde oder wiederherzustellende Partition wird beim Start der Sicherung oder Wiederherstellung selbsttätig ausgehängt. Beim erneuten Aufruf von qt4-fsarchiver wird die gerade gesicherte oder wiederhergestellte Partition wieder eingebunden.

qt4-fsarchiver kann mehrfach aufgerufen werden. So ist es zum Beispiel möglich, zeitgleich die Wurzel-Partition und die Home-Partition zu sichern (Voraussetzung ist natürlich, dass zwei getrennte Partitionen existieren).

Weitere Hinweise können den Webseiten http://wiki.ubuntuusers.de/qt4-fsarchiver und http://wiki.ubuntuusers.de/fsarchiver entnommen werden.
Informationen über fsarchiver können Sie über die englische Webseite von fsarchiver http://www.fsarchiver.org/Main_Page erhalten.
